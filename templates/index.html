<!DOCTYPE html>
<html lang="en">
<head>
    <title>Community Marketplace</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body style="background-image: url('/static/images/market_image.jpg');background-size: cover; background-position: center; 
background-repeat: no-repeat; height: 100vh; backdrop-filter: blur(5px);">

    <!-- Header -->
    <header>
        <img src="{{ url_for('static', filename='images/logo_white.png') }}" alt="Community Marketplace Logo" class="header-logo">
        Community Marketplace - Buy, Sell, Trade
        <!-- Hamburger Menu Button -->
        <button class="menu-btn" onclick="openMenu()">
            <div></div>
            <div></div>
            <div></div>
        </button>
    </header>

    <!-- Sidebar Menu -->
    <div id="sideMenu" class="side-menu">
        <a href="javascript:void(0)" class="close-btn" onclick="closeMenu()">&times;</a>
        <a href="{{ url_for('home') }}">Home</a>
        <a href="{{ url_for('login') }}">Login</a>
        <a href="{{ url_for('register') }}">Register</a>
        <a href="{{ url_for('listings.my_listings') }}">My Listings</a>
        <a href="{{ url_for('address.address_page') }}">Schedule a Meeting</a>
        <a href="{{ url_for('my_meetings.my_meetings_page') }}">My Meetings</a>
    </div>

    <div class="flash-messages">
        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            {% for category, message in messages %}
              <div class="alert alert-{{ category }}">
                {{ message }}
              </div>
            {% endfor %}
          {% endif %}
        {% endwith %}
    </div>  

    <div class="container" style="height: 525px; padding-top: 200px; background-color: rgba(255, 255, 255, 0.85);">
        <img src="{{ url_for('static', filename='images/logo_black.png') }}" alt="Community Marketplace Logo" style="width: 100px; height: 100px;">
        <h1>Welcome to Community Marketplace</h1>
        <p>List your items, explore, and connect with others.</p>

        <button>Get Started</button>

        <a href="{{ url_for('listings.my_listings') }}">
            <button>View My Listings</button>
        </a>

        <p>Already have an account? <a href="{{ url_for('login') }}">Log in here</a>.</p>
    </div>    

    <script>
        function openMenu() {
            document.getElementById("sideMenu").style.width = "250px";
        }

        function closeMenu() {
            document.getElementById("sideMenu").style.width = "0";
        }

        // Pop up fade out
        setTimeout(() => {
            const alerts = document.querySelectorAll('.alert');
            alerts.forEach(alert => {
            alert.style.transition = "opacity 0.5s ease";
            alert.style.opacity = 0;
            setTimeout(() => alert.remove(), 500);
            });
        }, 4000);
    </script>

</body>
</html>
